@use "/styles/_mixins" as mixins;
@use "/styles/_variables" as variables;

.subtitleCard {
  height: 10em;
  margin-bottom: 3em;
  margin-top: 2em;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  perspective: 10cm;

  .bar {
    height: variables.$titleCardThickness;
    position: absolute;
    padding-right: 1em;
    right: -1em;
    transform-origin: right center;

    &::before {
      @include mixins.gridPatternLight;
      width: 100%;
      height: 100%;
      position: absolute;
      mask: linear-gradient(45deg, transparent 75%, black 90%);
      content: "";
    }

    &.light {
      width: 70%;
      border-top: 1px solid black;
      border-bottom: 1px solid black;
      background-color: variables.$lightGray;
      z-index: 2;
      transform: rotateY(2deg) rotateZ(-0.5deg);
      mask: linear-gradient(
        45deg,
        transparent 17%,
        black 17%,
        black 25%,
        variables.$gradientFade 25%,
        variables.$gradientFade 28%,
        black 28%
      );
    }

    &.dark {
      width: 50%;
      background-color: variables.$darkGray;
      transform: rotateY(2deg) rotateZ(-0.5deg) translateY(-0.75em);
      mask: linear-gradient(
        -45deg,
        black 70%,
        variables.$gradientFade 70%,
        variables.$gradientFade 73%,
        black 73%,
        black 83%,
        transparent 83%
      );

      &::before {
        @include mixins.gridPatternDark;
        mask: linear-gradient(-45deg, transparent 72.5%, black 85%);
      }
    }
  }

  .glow {
    @include mixins.articlePageGradientShadow;
    height: variables.$titleCardThickness;
    right: 0;
    position: absolute;
    transform-origin: right center;

    &.top {
      width: calc(50% - 0.2em);
      z-index: -2;
      transform: rotateY(2deg) rotateZ(-0.5deg) translateY(-0.55em);
      mask: linear-gradient(-45deg, black 86.5%, transparent 86.5%);
    }

    &.bottom {
      width: calc(70% + 0.35em);
      margin-top: 8em;
      transform: rotateY(2deg) rotateZ(-0.5deg) translateY(0.35em);
      mask: linear-gradient(45deg, transparent 17%, black 17%);
    }
  }

  h2 {
    @include mixins.russoFont;
    margin-right: 0.15em;
    right: 0;
    position: absolute;
    text-align: right;
    font-size: 1.5em;
    color: variables.$darkGray;
    z-index: 3;
    transform: rotateY(2deg) rotateZ(-0.5deg) translateY(0.5em);
    transform-origin: right center;

    &::selection {
      color: variables.$lightGray;
      background-color: var(--article-colour);
    }
  }

  .banner {
    width: fit-content;
    max-width: 65%;
    height: 8em;
    margin-left: auto;
    margin-bottom: 2.5em;
    object-fit: contain;
    z-index: 1;

    &::selection {
      color: variables.$darkGray;
      background-color: var(--article-colour);
    }
  }

  .space {
    @include mixins.articlePageSpaceCutout;
    height: 100%;
    mask-size: 100% 100%;
    mask-position: center top;
    margin-bottom: -2em;
    z-index: -3;
  }
}
